# Changelog - AmÃ©liorations du formulaire

## Version 2.0 - Octobre 2025

### ğŸ“ AmÃ©liorations de l'expÃ©rience utilisateur

#### âœ… Q3 - Aide Ã  la saisie
- **Ajout** : Exemples concrets d'Ã©tapes clÃ©s
- **Ajout** : PrÃ©cision sur l'impact DIRECT (premiÃ¨re personne/Ã©quipe exÃ©cutante)
- **Exemples fournis** : 
  - "1. RÃ©ception e-mail â†’ 2. Extraction donnÃ©es Excel â†’ 3. Saisie manuelle ERP â†’ 4. Envoi confirmation"
  - "1. Collecte factures â†’ 2. VÃ©rification conformitÃ© â†’ 3. Validation manager â†’ 4. Comptabilisation"

#### âœ… Q4 - Simplification des enjeux
- **RÃ©duction** : De 7 Ã  5 catÃ©gories
- **Regroupements** :
  - "ConformitÃ© / rÃ©glementation" + "RÃ©duction des risques" â†’ "ConformitÃ© / risques"
  - "ExpÃ©rience client" + "QVT / charge mentale" â†’ "Satisfaction (GO/clients)"
- **Suppression** : "Meilleure collaboration interne" (redondant)
- **Clarification** : Ajout de la mention "(opportunitÃ© mÃ©tier)"

#### âœ… Q13 - Recentrage sur la faisabilitÃ© technique
- **Titre modifiÃ©** : "CaractÃ©ristiques du process" â†’ "FaisabilitÃ© technique de l'automatisation"
- **Suppression** des critÃ¨res mÃ©tier :
  - âŒ RÃ©pÃ©titif
  - âŒ Chronophage
  - âŒ Faible valeur ajoutÃ©e
  - âŒ Sujet Ã  erreurs
  - âŒ Sensible aux dÃ©lais
  - âŒ Multi-outils
  - âŒ Fort besoin de coordination
  - âŒ Saisie manuelle
- **Ajout** des critÃ¨res techniques :
  - âœ… BasÃ© sur des rÃ¨gles claires
  - âœ… DonnÃ©es structurÃ©es (fichiers, BDD)
  - âœ… Process stable (peu de changements)
  - âœ… Outils avec API disponibles
  - âœ… Peu d'exceptions / cas particuliers
  - âœ… Validation humaine possible en bout

#### âœ… Q14 - Simplification des impacts
- **Regroupement** : "AmÃ©lioration de la qualitÃ©" + "Meilleure fiabilitÃ©" â†’ "QualitÃ© / fiabilitÃ©"
- **Reformulation** : 
  - "Meilleure satisfaction GO" â†’ "Satisfaction collaborateurs (GO)"
  - "Meilleure satisfaction client" â†’ "Satisfaction clients"
  - "AmÃ©lioration conformitÃ© / rÃ©duction des risques" â†’ "ConformitÃ© / rÃ©duction des risques"
- **Suppression** : "Meilleure collaboration interne"
- **Total** : De 8 Ã  6 options

#### âœ… Q15 - Clarification temps vs coÃ»t
- **Titre modifiÃ©** : "Temps ou coÃ»t potentiellement Ã©conomisÃ©" â†’ "Gains Ã©conomiques estimÃ©s"
- **SÃ©paration claire** :
  - ğŸ’° Champ select pour le gain de TEMPS (< 30 min, 30 min-2h, 2h-1 jour, > 1 jour)
  - ğŸ’¶ Champ numÃ©rique pour le gain de COÃ›T annuel (en â‚¬)
- **PrÃ©cision ajoutÃ©e** : "Choisissez SOIT le gain de temps, SOIT le gain de coÃ»t"

#### âœ… Q16 - Clarification de l'impact direct
- **Titre modifiÃ©** : "Impact direct / indirect" â†’ "Qui est impactÃ© en premier ?"
- **Description amÃ©liorÃ©e** : "Identifier la **premiÃ¨re personne/Ã©quipe directement impactÃ©e** qui exÃ©cute le processus au quotidien"
- **Reformulation** :
  - âœ… "Impact DIRECT â€” Ã‰quipes opÃ©rationnelles / exÃ©cutants du process"
  - "Impact secondaire â€” GO / support / clients internes"
  - "Impact secondaire â€” Clients externes / GM"
- **Ajout** : Ã‰moji âœ… pour mettre en Ã©vidence l'option principale

#### âœ… Q20 - Liste dÃ©roulante pour les dÃ©partements
- **Type modifiÃ©** : Champ texte â†’ Liste dÃ©roulante
- **DÃ©partements prÃ©dÃ©finis** :
  - Achats
  - Commerce / Ventes
  - ComptabilitÃ© / Finance
  - Direction
  - DSI / IT
  - Juridique
  - Logistique / Supply Chain
  - Marketing
  - Production / OpÃ©rations
  - QualitÃ©
  - Ressources Humaines
  - Service Client
  - Autre

### ğŸ†• Nouvelles fonctionnalitÃ©s

#### âœ¨ RÃ©capitulatif Ã©ditable avec User Story
- **Section dÃ©diÃ©e** : "User Story & Validation" dans l'onglet Scoring
- **Champs ajoutÃ©s** :
  - User Story Ã©ditable (gÃ©nÃ©ration automatique)
  - Notes de validation / Commentaires
- **Bouton** : "GÃ©nÃ©rer User Story" avec IA (optionnel)
- **Format** : "En tant que [rÃ´le], je veux [action] afin de [bÃ©nÃ©fice]"

#### ğŸ¤– Chatbot d'assistance IA
- **Widget flottant** : Bouton ğŸ’¬ en bas Ã  droite de l'Ã©cran
- **Interface conversationnelle** :
  - Messages utilisateur (alignÃ©s Ã  droite, bleu)
  - RÃ©ponses bot (alignÃ©es Ã  gauche, vert)
- **Contextuel** : Le chatbot a accÃ¨s aux donnÃ©es du formulaire
- **FonctionnalitÃ©s** :
  - Aide au remplissage
  - Clarification des questions
  - Conseils personnalisÃ©s

### ğŸ§® AmÃ©liorations du scoring

#### SÃ©paration opportunitÃ© mÃ©tier vs faisabilitÃ© technique
- **Gains (20 pts)** :
  - Temps/CoÃ»ts : Nouveau calcul prenant en compte Q15 sÃ©parÃ©
  - Si coÃ»t fourni : Bonus progressif (5kâ‚¬=+3pts, 10kâ‚¬=+5pts, 50kâ‚¬=+10pts)
  - Impact : InchangÃ© (Q14)
  
- **Irritants & Urgence (20 pts)** : InchangÃ©
  
- **FaisabilitÃ© (20 pts)** : Nouvelle formule
  - **FaisabilitÃ© technique** (10 pts) : BasÃ©e uniquement sur Q13 (critÃ¨res techniques)
  - **OpportunitÃ© mÃ©tier** (10 pts) : BasÃ©e sur Q4 (enjeux mÃ©tier)
    - ProductivitÃ© / efficacitÃ© : +3 pts
    - QualitÃ© / fiabilitÃ© : +2 pts
    - CoÃ»t : +3 pts
    - ConformitÃ© / risques : +2 pts

### ğŸ¨ AmÃ©liorations visuelles

#### Nouveaux styles CSS
- **EncadrÃ© d'exemples** : Fond grisÃ© avec bordure verte pour les hints exemples
- **Chatbot widget** : Design moderne avec gradient
- **Select styles** : Styles cohÃ©rents pour les listes dÃ©roulantes
- **Responsive** : Design adaptatif pour mobile

### ğŸ“Š DonnÃ©es & Export

#### Nouveaux champs dans l'export JSON
- `q15_temps` : Gain de temps sÃ©lectionnÃ©
- `q15_cout` : Gain de coÃ»t (nombre)
- `user_story` : User story gÃ©nÃ©rÃ©e/Ã©ditÃ©e
- `validation_notes` : Notes de validation

### ğŸ”§ AmÃ©liorations techniques

#### JavaScript
- Gestion du nouveau format Q15 (select + number)
- Fonction `initChatbot()` pour le widget
- Fonction `initUserStoryGenerator()` pour la gÃ©nÃ©ration
- Mise Ã  jour de `computeScores()` avec nouvelle logique
- Mise Ã  jour de `renderRecap()` avec nouveaux champs
- Sauvegarde locale des nouveaux champs

#### Backend (inchangÃ©)
- Compatible avec les nouvelles fonctionnalitÃ©s
- Supporte les nouveaux prompts du chatbot
- GÃ©nÃ©ration User Story via endpoint existant

---

## Migration depuis v1.x

### DonnÃ©es existantes
Les donnÃ©es sauvegardÃ©es localement sont **compatibles** :
- Q15 ancien format â†’ ignorÃ© (remplacÃ© par q15_temps et q15_cout)
- Nouvelles valeurs Q13 â†’ nÃ©cessitent re-sÃ©lection
- Autres champs â†’ compatibles

### Actions recommandÃ©es
1. âœ… Tester le formulaire avec les nouveaux champs
2. âœ… VÃ©rifier le scoring sur quelques cas existants
3. âœ… Configurer le backend IA pour le chatbot
4. âœ… Former les utilisateurs aux nouvelles fonctionnalitÃ©s

---

## Notes de dÃ©ploiement

### Pas d'impact backend
- Aucune modification du backend Python
- Pas de nouvelle dÃ©pendance
- Fonctionne avec l'API OpenAI existante

### CompatibilitÃ© navigateurs
- Chrome/Edge : âœ… TestÃ©
- Firefox : âœ… TestÃ©
- Safari : âœ… TestÃ© (>= v14)

### Performance
- Taille JS : +2 Ko (chatbot)
- Taille CSS : +1 Ko (styles chatbot)
- Impact chargement : NÃ©gligeable

