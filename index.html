<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Formulaire Process – Diagnostic terrain</title>
    <link rel="icon" type="image/png" href="media/trident.png" />
    <link rel="stylesheet" href="styles.css" />
    <script defer src="script.js"></script>
  </head>
  <body>
    <header class="app-header">
      <div class="container">
        <h1>Diagnostic Process – Formulaire</h1>
        <p class="subtitle">Formulaire standardisé pour qualifier et prioriser les cas d'usage</p>
      </div>
    </header>

    <main class="container">
      <form id="process-form" novalidate>
        <nav class="wizard" aria-label="Navigation par chapitres">
          <ol class="wizard-steps" role="tablist">
            <li><button type="button" class="wizard-step" onclick="window.goToStep(1)" data-step="1">👤 1. Persona</button></li>
            <li><button type="button" class="wizard-step" onclick="window.goToStep(2)" data-step="2">💡 2. Besoin</button></li>
            <li><button type="button" class="wizard-step" onclick="window.goToStep(3)" data-step="3">📊 3. Impact</button></li>
            <li><button type="button" class="wizard-step" onclick="window.goToStep(4)" data-step="4">🔧 4. Faisabilité</button></li>
            <li><button type="button" class="wizard-step" onclick="window.goToStep(5)" data-step="5">👀 5. SumUp</button></li>
            <li><button type="button" class="wizard-step" onclick="window.goToStep(6)" data-step="6">🤖 6. Analyse IA</button></li>
          </ol>
          <div class="progress"><div id="progress-fill" class="progress-fill" style="width: 20%"></div></div>
        </nav>

        <section class="step-section is-active" data-step="1" aria-labelledby="bloc-1">
          <h2 style="color: #0d6efd; font-size: 18px; margin-bottom: 8px;">Qui est concerné ?</h2>
          <p class="hint">Identifiez la personne qui réalise actuellement cette tâche et qui bénéficiera de l'automatisation.</p>
          <br><hr><br>
          <div class="form-group">
            <label for="q1">Q1. Nom de l'utilisateur final</label>
            <input type="text" id="q1" name="q1" placeholder="Ex: Dupont" required />
          </div>
          
          <div class="form-group">
            <label for="q2">Q2. Prénom de l'utilisateur final</label>
            <input type="text" id="q2" name="q2" placeholder="Ex: Marie" required />
          </div>
          
          <div class="form-group">
            <label for="q3">Q3. Rôle / Fonction</label>
            <input type="text" id="q3" name="q3" placeholder="Ex: Gestionnaire de commandes, Comptable..." required />
          </div>
          
          <div class="form-group">
            <label for="q4">Q4. Département</label>
            <select id="q4" name="q4">
              <option value="">— Sélectionnez —</option>
              <option value="Achats">Achats</option>
              <option value="Commerce / Ventes">Commerce / Ventes</option>
              <option value="Comptabilité / Finance">Comptabilité / Finance</option>
              <option value="Direction">Direction</option>
              <option value="DSI / IT">DSI / IT</option>
              <option value="Juridique">Juridique</option>
              <option value="Logistique / Supply Chain">Logistique / Supply Chain</option>
              <option value="Marketing">Marketing</option>
              <option value="Production / Opérations">Production / Opérations</option>
              <option value="Qualité">Qualité</option>
              <option value="Ressources Humaines">Ressources Humaines</option>
              <option value="Service Client">Service Client</option>
              <option value="Autre">Autre</option>
            </select>
          </div>
        </section>

        <section class="step-section" data-step="2" aria-labelledby="bloc-2">
          <h2 style="color: #0d6efd; font-size: 18px; margin-bottom: 8px;">Quel est le problème ?</h2>
          <p class="hint">Décrivez la situation actuelle et ce qui pose problème dans l'exécution de cette tâche.</p>
          <br><hr><br>
          <div class="form-group">
            <label for="q5">Q5. Brief utilisateur - Contexte et besoin</label>
            <p class="hint">Décrivez le contexte et le besoin utilisateur. L'IA analysera automatiquement les pain points et bénéfices.</p>  
            <p class="hint">Soyez concret et donnez des exemples !</p>
            <textarea id="q5" name="q5" rows="6" placeholder="Décrivez :&#10;• Quelle est la situation actuelle ?&#10;• Quel est le problème rencontré ?&#10;• Quel serait le résultat souhaité après automatisation ?&#10;&#10;Exemple : 'Actuellement, je reçois 50 factures par jour par e-mail. Je dois manuellement extraire les données (montant, fournisseur, date) et les saisir dans notre ERP. C'est long, répétitif et source d'erreurs. Je voudrais que ces données soient automatiquement extraites et intégrées dans l'ERP.'" required></textarea>
          </div>

          <div class="form-group">
            <label for="q6">Q6. Comment la tâche est-elle exécutée aujourd'hui ?</label>
            <p class="hint">Décrivez les étapes principales de l'exécution actuelle.</p>
            <textarea id="q6" name="q6" rows="5" placeholder="Exemple :&#10;1. Réception e-mail avec facture PDF&#10;2. Ouverture du PDF et extraction manuelle des données&#10;3. Saisie dans Excel pour vérification&#10;4. Import dans l'ERP&#10;5. Envoi d'un e-mail de confirmation" required></textarea>
          </div>
        </section>

        <section class="step-section" data-step="3" aria-labelledby="bloc-3">
          <h2 style="color: #0d6efd; font-size: 18px; margin-bottom: 8px;">Quel est l'impact ?</h2>
          <p class="hint">Évaluez l'ampleur du problème : combien de fois, combien de temps, combien de personnes concernées ?</p>
          <br><hr><br>
          <div class="form-group">
            <label for="q7">Q7. Fréquence du besoin (jours par mois)</label>
            <p class="hint">Combien de jours par mois la tâche doit-elle être exécutée ? (sur une base de 20 jours ouvrés)</p>
            <p class="hint-examples">💡 Exemples : Quotidien = 20, Hebdomadaire = 5, Mensuel = 1</p>
            <input type="number" id="q7" name="q7" min="0.1" step="0.1" placeholder="Ex: 5" required />
            <p class="hint" style="font-size: 12px; color: #6c757d; margin-top: 4px;">Saisissez le nombre de jours par mois (décimales autorisées)</p>
          </div>

          <div class="form-group">
            <label for="q8">Q8. Nombre d'exécutions de la tâche à chaque occurrence (en moyenne)</label>
            <p class="hint">Quand le besoin se présente, combien de fois la tâche est-elle exécutée ?</p>
            <p class="hint-examples">💡 Exemple : Si c'est mensuel (clôture comptable), est-ce 1 fois, 20 fois, 100 fois ce jour-là ?</p>
            <input type="number" id="q8" name="q8" min="1" step="1" placeholder="Ex: 50" required />
            <p class="hint" style="font-size: 12px; color: #6c757d; margin-top: 4px;">Saisissez un nombre entier (pas besoin d'être précis au chiffre près, une estimation suffit)</p>
          </div>

          <div class="form-group">
            <label>Q9. Temps d'exécution unitaire de la tâche (en moyenne)</label>
            <p class="hint">Combien de temps prend UNE exécution de la tâche ? Décomposez en jours, heures et/ou minutes.</p>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 10px;">
              <div>
                <label for="q9_days" style="font-size: 13px; display: block; margin-bottom: 4px;">Jour(s)</label>
                <input type="number" id="q9_days" name="q9_days" min="0" step="1" placeholder="0" style="width: 100%;" />
              </div>
              <div>
                <label for="q9_hours" style="font-size: 13px; display: block; margin-bottom: 4px;">Heure(s)</label>
                <input type="number" id="q9_hours" name="q9_hours" min="0" step="1" placeholder="0" style="width: 100%;" />
              </div>
              <div>
                <label for="q9_minutes" style="font-size: 13px; display: block; margin-bottom: 4px;">Minute(s)</label>
                <input type="number" id="q9_minutes" name="q9_minutes" min="0" step="1" placeholder="0" style="width: 100%;" />
              </div>
            </div>
            <p class="hint-examples" style="margin-top: 8px;">💡 Exemple : Pour une tâche de 1h30, saisissez 1 heure et 30 minutes</p>
          </div>

          <div class="form-group">
            <label for="q10">Q10. Nombre actuel de personnes exécutant cette tâche</label>
            <p class="hint">Combien de personnes réalisent actuellement cette tâche ?</p>
            <p class="hint-examples">💡 Si plusieurs personnes font la même tâche, le gain total sera multiplié par ce nombre</p>
            <input type="number" id="q10" name="q10" min="1" step="1" placeholder="Ex: 5" required />
            <p class="hint" style="font-size: 12px; color: #6c757d; margin-top: 4px;">Saisissez le nombre de personnes concernées</p>
          </div>

          <fieldset class="form-group">
            <legend>Q11. Niveau d'irritant / urgence</legend>
            <div class="options" role="radiogroup">
              <label><input type="radio" name="q11" value="1" /> 1 — Faible gêne</label>
              <label><input type="radio" name="q11" value="2" /> 2 — Modéré</label>
              <label><input type="radio" name="q11" value="3" checked /> 3 — Important</label>
              <label><input type="radio" name="q11" value="4" /> 4 — Critique</label>
              <label><input type="radio" name="q11" value="5" /> 5 — Bloquant</label>
            </div>
          </fieldset>

          <div class="form-group">
            <label for="q12">Q12. Pourquoi est-ce irritant ?</label>
            <textarea id="q12" name="q12" rows="2" placeholder="Ex: Tâche répétitive sans valeur ajoutée, nombreuses erreurs de saisie..."></textarea>
          </div>

          <div class="form-group">
            <label for="q13">Q13. Pourquoi est-ce urgent ?</label>
            <textarea id="q13" name="q13" rows="2" placeholder="Ex: Impact direct sur satisfaction client, risque de non-conformité..."></textarea>
          </div>
        </section>

        <section class="step-section" data-step="4" aria-labelledby="bloc-4">
          <h2 style="color: #0d6efd; font-size: 18px; margin-bottom: 8px;">Est-ce automatisable ?</h2>
          <p class="hint">Décrivez les données et outils utilisés pour évaluer la complexité technique de l'automatisation.</p>
          <br><hr><br>
          <div class="form-group">
            <label for="q14">Q14. Quels sont les éléments sources de la tâche ?</label>
            <p class="hint">Quels types de données, documents ou informations sont utilisés/traités dans cette tâche ? (peuvent nécessiter numérisation ou saisie)</p>
            <p class="hint-examples">💡 Exemples : Fichiers Excel, bases de données, factures PDF, documents papier, e-mails, images/photos, documents Word, fichiers scannés, formulaires web, données d'un système (ERP/CRM)...</p>
            <textarea id="q14" name="q14" rows="3" placeholder="Ex: Factures PDF reçues par e-mail, fichier Excel de suivi, données extraites de SAP"></textarea>
          </div>

          <fieldset class="form-group">
            <legend>Q15. La tâche inclut-elle une action manuelle ?</legend>
            <div class="options" role="radiogroup">
              <label><input type="radio" name="q15" value="Oui" /> Oui</label>
              <label><input type="radio" name="q15" value="Non" /> Non</label>
            </div>
          </fieldset>

          <div class="form-group">
            <label for="q16">Q16. Si oui, donnez un exemple d'action manuelle</label>
            <textarea id="q16" name="q16" rows="2" placeholder="Ex: Copier-coller de données entre Excel et SAP, vérification visuelle de cohérence, saisie manuelle de codes..."></textarea>
          </div>

          <fieldset class="form-group">
            <legend>Q17. La tâche peut-elle être reproduite avec des règles simples et stables ?</legend>
            <div class="options" role="radiogroup">
              <label><input type="radio" name="q17" value="Oui" /> Oui — Règles claires et stables</label>
              <label><input type="radio" name="q17" value="Partiellement" /> Partiellement — Quelques cas particuliers</label>
              <label><input type="radio" name="q17" value="Non" /> Non — Beaucoup d'exceptions, jugement métier important</label>
            </div>
          </fieldset>

          <div class="form-group">
            <label for="q18">Q18. Listez les points les plus complexes de la tâche</label>
            <p class="hint">Détaillez précisément ce qui rend cette tâche difficile, les cas particuliers, les exceptions, les points de vigilance...</p>
            <textarea id="q18" name="q18" rows="4" placeholder="Ex: 
• Formats PDF très variables (scannés vs natifs, layouts différents)
• Validation manager obligatoire si montant > 10k€
• Codes analytiques complexes à choisir selon le type de dépense
• Gestion des devises multiples avec taux de change du jour
• Délais de traitement stricts (factures à saisir sous 48h)"></textarea>
          </div>

          <fieldset class="form-group">
            <legend>Q19. Complexité organisationnelle</legend>
            <p class="hint">La tâche nécessite-t-elle la coordination ou validation d'autres personnes ?</p>
            <div class="options" role="radiogroup">
              <label><input type="radio" name="q19" value="Simple" /> Simple — Une personne peut faire la tâche seule</label>
              <label><input type="radio" name="q19" value="Moyenne" /> Moyenne — Nécessite une validation d'une autre personne</label>
              <label><input type="radio" name="q19" value="Complexe" /> Complexe — Coordination de plusieurs personnes/services</label>
            </div>
          </fieldset>

          <div class="form-group">
            <label for="q20">Q20. Quels sont les outils nécessaires pour réaliser cette tâche ?</label>
            <input type="text" id="q20" name="q20" placeholder="Ex: Excel + SAP + e-mails, Salesforce + Google Sheets..." />
          </div>
        </section>

        <section class="step-section" data-step="5" aria-labelledby="bloc-5">

          <article class="panel" id="ai-sumup-section" style="display: none; margin-bottom: 20px;">
            <h3 style="color: #0d6efd; margin-bottom: 20px;">🤖 Analyse IA du use case</h3>
            <div id="ai-sumup-output" class="ai-output">
              <!-- Titre, User Story, Schéma, Éléments sources -->
            </div>
          </article>

          <article class="panel recap">
            <div id="recap-content" class="recap-content">
              <!-- Rendu dynamique -->
            </div>
          </article>
        </section>

        <section class="step-section" data-step="6" aria-labelledby="bloc-6">
          <article class="panel">
            <div id="ai-analysis-output" class="ai-output">
              <p class="hint" style="text-align: center; padding: 40px 20px; color: #6c757d;">
                👈 Cliquez sur "Lancer l'analyse IA" en bas pour générer l'analyse complète
              </p>
            </div>
            <div id="save-status" class="save-status" style="display:none;"></div>
          </article>

        </section>

        <div class="pager" role="navigation" aria-label="Navigation du formulaire">
          <button type="button" id="prev-step" class="ghost" onclick="window.goPrev()">← Précédent</button>
          <div class="spacer"></div>
          <button type="button" id="next-step" class="primary" onclick="window.goNext()">Suivant →</button>
        </div>

      </form>

      <!-- Bouton IA fixe en bas -->
      <div style="position: sticky; bottom: 0; background: linear-gradient(to top, rgba(255,255,255,1) 80%, rgba(255,255,255,0)); padding: 20px 0; margin-top: 30px; border-top: 2px solid #e7f1ff; text-align: center;">
        <button type="button" id="analyze-btn" class="primary" style="font-size: 16px; padding: 12px 30px; box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);">
          🤖 Lancer l'analyse IA
        </button>
        <p style="font-size: 12px; color: #6c757d; margin-top: 8px;">Génère la user story, le scoring et le plan de delivery</p>
      </div>
    </main>

    <footer class="app-footer">
      <div class="container">
        <p>© 2025 Diagnostic Process — Prêt pour la priorisation automatisée des use cases 🚀</p>
      </div>
    </footer>

  </body>
  </html>


