:root {
  --bg: #0b0c10;
  --panel: #12131a;
  --card: #1b1e28;
  --muted: #99a1b3;
  --text: #e7e9ee;
  --primary: #6ea8fe;
  --primary-600: #4d8df6;
  --accent: #51d1c5;
  --danger: #ef476f;
  --warning: #ffd166;
  --success: #06d6a0;
  --radius: 12px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: linear-gradient(180deg, var(--bg), #0f1117 60%);
  color: var(--text);
}

.container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 24px;
}

.app-header {
  background: linear-gradient(180deg, #0f1117, #0e1015);
  border-bottom: 1px solid #1f2330;
}
.app-header h1 { margin: 0 0 4px; font-size: 28px; }
.subtitle { margin: 0; color: var(--muted); }

main .container, .app-footer .container { padding-top: 32px; padding-bottom: 32px; }

form {
  background: var(--panel);
  border: 1px solid #1f2330;
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: 0 10px 30px rgba(0,0,0,.3);
}

section + section { margin-top: 28px; }
h2 { margin: 0 0 16px; font-size: 22px; }
h3 { margin: 0 0 12px; font-size: 18px; color: var(--muted); }

.form-group { margin-bottom: 16px; }
.compact { margin-top: 8px; }
.required { color: var(--warning); font-weight: 600; }

label { display: inline-block; margin-bottom: 6px; }
input[type="text"], input[type="email"], input[type="number"], textarea {
  width: 100%;
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid #2a2f3d;
  background: var(--card);
  color: var(--text);
}
input::placeholder, textarea::placeholder { color: #7b849a; }
textarea { resize: vertical; min-height: 100px; }

.options { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 8px 16px; }
.options label { display: flex; align-items: center; gap: 8px; background: #161923; padding: 8px 10px; border-radius: 8px; border: 1px solid #242a39; }
.options input[type="checkbox"], .options input[type="radio"] { width: 18px; height: 18px; }
.with-inline { gap: 10px; }
.inline-input { flex: 1 1 auto; max-width: 260px; }

.hint { margin: 2px 0 8px; color: var(--muted); font-size: 13px; }

fieldset { border: none; padding: 0; margin: 0 0 16px; }
legend { font-weight: 600; margin-bottom: 6px; }

.two-col { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 16px; }

.range-row { display: grid; grid-template-columns: 24px 1fr 24px 56px; align-items: center; gap: 10px; }
input[type="range"] { width: 100%; }
output { text-align: right; color: var(--accent); font-weight: 600; }

.form-footer { margin-top: 24px; padding-top: 12px; border-top: 1px dashed #2a2f3d; }
.autosave { color: var(--muted); margin: 0 0 6px; }
.save-indicator { margin: 0 0 12px; color: #9fb3ff; }
.actions { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }

button, .link {
  appearance: none;
  border: none;
  padding: 10px 14px;
  border-radius: 8px;
  background: var(--primary);
  color: #0a0a0a;
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
button.secondary { background: var(--accent); color: #09222a; }
button.ghost { background: transparent; color: var(--text); border: 1px solid #2a2f3d; }
.link { background: transparent; color: var(--primary); padding: 0; }

button:focus, .link:focus, input:focus, textarea:focus { outline: 2px solid var(--primary-600); outline-offset: 2px; }
button:hover { filter: brightness(1.05); }

.app-footer { border-top: 1px solid #1f2330; background: #0f1117; color: var(--muted); }
.app-footer p { margin: 0; }

@media (prefers-color-scheme: light) {
  :root { --bg: #f5f7fb; --panel: #ffffff; --card: #f3f5f9; --text: #0b0c10; --muted: #5c6379; }
  body { background: linear-gradient(180deg, #f5f7fb, #eef2f9 60%); }
  .app-header { background: linear-gradient(180deg, #f4f6fb, #eef2f9); border-bottom-color: #e5e9f2; }
  form { border-color: #e5e9f2; box-shadow: 0 10px 24px rgba(0,0,0,.06); }
  .options label { background: #f6f8fc; border-color: #e5e9f2; }
  .app-footer { border-top-color: #e5e9f2; background: #f6f8fc; }
}

/* Wizard */
.wizard { margin-bottom: 16px; }
.wizard-steps {
  list-style: none; padding: 0; margin: 0 0 8px; display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr)); gap: 8px;
}
.wizard-step { width: 100%; padding: 10px; border-radius: 10px; background: #161923; color: var(--text); border: 1px solid #242a39; cursor: pointer; }
.wizard-step[aria-selected="true"] { background: #1f2433; border-color: var(--primary-600); color: var(--primary); }
.progress { height: 6px; background: #121520; border-radius: 6px; overflow: hidden; border: 1px solid #242a39; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); width: 0; }

.step-section { display: none; }
.step-section.is-active { display: block; }

.pager { display: flex; align-items: center; gap: 10px; margin-top: 18px; padding-top: 10px; border-top: 1px dashed #2a2f3d; }
.pager .spacer { flex: 1 1 auto; }
.pager .primary { background: var(--primary); }

/* Score cards */
.score-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; margin-top: 12px; }
.score-card { background: var(--card); border: 1px solid #2a2f3d; border-radius: 12px; padding: 14px; }
.score-card.highlight { border-color: var(--accent); box-shadow: 0 0 0 2px rgba(81,209,197,.15) inset; }
.score-card .small { color: var(--muted); font-weight: 500; font-size: 12px; }
.metric { display: flex; justify-content: space-between; align-items: center; margin: 6px 0; }
.metric.total { font-weight: 700; }
.metric.mega { font-size: 28px; font-weight: 800; color: var(--accent); justify-content: center; }
.bar { height: 8px; background: #161923; border-radius: 8px; overflow: hidden; border: 1px solid #242a39; }
.bar.big { height: 12px; }
.bar-fill { height: 100%; width: 0; background: linear-gradient(90deg, var(--primary), var(--accent)); }
.badge { margin-top: 10px; display: inline-block; padding: 6px 10px; border-radius: 999px; border: 1px solid #2a2f3d; color: var(--text); }

.meta-section { margin-top: 12px; opacity: .9; }

/* Panels (Recap / AI) */
.panel { background: var(--card); border: 1px solid #2a2f3d; border-radius: 12px; padding: 14px; margin: 12px 0; }
.recap-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 8px 16px; }
.recap-item { background: #161923; border: 1px solid #242a39; border-radius: 10px; padding: 10px; }
.recap-item h4 { margin: 0 0 6px; font-size: 14px; color: var(--muted); }

.ai-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.ai-settings { display: grid; gap: 8px; margin-top: 8px; }
.ai-output { background: #10131b; border: 1px dashed #2a2f3d; border-radius: 8px; padding: 10px; min-height: 44px; }
.delivery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; }
.ai-output.rich { line-height: 1.55; }
.ai-output.rich h3, .ai-output.rich h4 { margin: 8px 0 6px; }
.ai-output.rich p { margin: 6px 0; }
.ai-output.rich ul { margin: 6px 0 6px 18px; }
.ai-output.rich li { margin: 2px 0; }


